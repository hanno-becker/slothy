
// Code from https: // github.com/Ji-Peng/PQRV/blob/2463d15ba6c49d05d45ff427b72646e038c860da/ntt/dilithium/ntt_8l_singleissue_plant_rv64im.S

// The MIT license, the text of which is below, applies to PQRV in general.
// We have reused public-domain code from the following repositories: https: // github.com/pq-crystals/kyber and https: // github.com/pq-crystals/dilithium.

// Copyright (c) 2024 Jipeng Zhang (jp-zhang@outlook.com)
// SPDX-License-Identifier: MIT

// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:

// The above copyright notice and this permission notice shall be included in all
// copies or substantial portions of the Software.

// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
// SOFTWARE.



.macro load_coeffs poly, len, wordLen
  lw s0,  \len*\wordLen*0(\poly)
  lw s1,  \len*\wordLen*1(\poly)
  lw s2,  \len*\wordLen*2(\poly)
  lw s3,  \len*\wordLen*3(\poly)
  lw s4,  \len*\wordLen*4(\poly)
  lw s5,  \len*\wordLen*5(\poly)
  lw s6,  \len*\wordLen*6(\poly)
  lw s7,  \len*\wordLen*7(\poly)
  lw s8,  \len*\wordLen*8(\poly)
  lw s9,  \len*\wordLen*9(\poly)
  lw s10, \len*\wordLen*10(\poly)
  lw s11, \len*\wordLen*11(\poly)
  lw a2,  \len*\wordLen*12(\poly)
  lw a3,  \len*\wordLen*13(\poly)
  lw a4,  \len*\wordLen*14(\poly)
  lw a5,  \len*\wordLen*15(\poly)
.endm

.macro store_coeffs poly, len, wordLen
  sw s0,  \len*\wordLen*0(\poly)
  sw s1,  \len*\wordLen*1(\poly)
  sw s2,  \len*\wordLen*2(\poly)
  sw s3,  \len*\wordLen*3(\poly)
  sw s4,  \len*\wordLen*4(\poly)
  sw s5,  \len*\wordLen*5(\poly)
  sw s6,  \len*\wordLen*6(\poly)
  sw s7,  \len*\wordLen*7(\poly)
  sw s8,  \len*\wordLen*8(\poly)
  sw s9,  \len*\wordLen*9(\poly)
  sw s10, \len*\wordLen*10(\poly)
  sw s11, \len*\wordLen*11(\poly)
  sw a2,  \len*\wordLen*12(\poly)
  sw a3,  \len*\wordLen*13(\poly)
  sw a4,  \len*\wordLen*14(\poly)
  sw a5,  \len*\wordLen*15(\poly)
.endm

.macro save_regs
  sd s0,  0*8(sp)
  sd s1,  1*8(sp)
  sd s2,  2*8(sp)
  sd s3,  3*8(sp)
  sd s4,  4*8(sp)
  sd s5,  5*8(sp)
  sd s6,  6*8(sp)
  sd s7,  7*8(sp)
  sd s8,  8*8(sp)
  sd s9,  9*8(sp)
  sd s10, 10*8(sp)
  sd s11, 11*8(sp)
  sd gp,  12*8(sp)
  sd tp,  13*8(sp)
  sd ra,  14*8(sp)
.endm

.macro restore_regs
  ld s0,  0*8(sp)
  ld s1,  1*8(sp)
  ld s2,  2*8(sp)
  ld s3,  3*8(sp)
  ld s4,  4*8(sp)
  ld s5,  5*8(sp)
  ld s6,  6*8(sp)
  ld s7,  7*8(sp)
  ld s8,  8*8(sp)
  ld s9,  9*8(sp)
  ld s10, 10*8(sp)
  ld s11, 11*8(sp)
  ld gp,  12*8(sp)
  ld tp,  13*8(sp)
  ld ra,  14*8(sp)
.endm

// a <- a*b*(-2^{-64}) mod+- q
// q32: q<<32; bqinv: b*qinv
.macro plant_mul_const_inplace q32, bqinv, a
  mul  \a, \a, \bqinv
  srai \a, \a, 32
  addi \a, \a, 256
  mulh \a, \a, \q32
.endm

// r <- a*b*(-2^{-64}) mod+- q
// q32: q<<32; bqinv: b*qinv
.macro plant_mul_const q32, bqinv, a, r
    mul  \r, \a, \bqinv
    srai \r, \r, 32
    addi \r, \r, 256
    mulh \r, \r, \q32
.endm

// each layer increases coefficients by 0.5q; In ct_bfu, twiddle and tmp can be reused because each twiddle is only used once. The gs_bfu cannot.
.macro ct_bfu coeff0, coeff1, twiddle, q, tmp
  plant_mul_const \q, \twiddle, \coeff1, \tmp
  sub \coeff1, \coeff0, \tmp
  add \coeff0, \coeff0, \tmp
.endm

.macro gs_bfu coeff0, coeff1, twiddle, q, tmp
  sub \tmp, \coeff0, \coeff1
  add \coeff0, \coeff0, \coeff1
  plant_mul_const \q, \twiddle, \tmp, \coeff1
.endm

// in-place plantard reduction to a
// output \in (-0.5q, 0.5q); q32: q<<32
.macro plant_red q32, qinv, a
  mul  \a, \a, \qinv
  srai \a, \a, 32
  addi \a, \a, 256
  mulh \a, \a, \q32
.endm

.macro plant_red_x4 q32, qinv, a_0, a_1, a_2, a_3
  mul  \a_0, \a_0, \qinv
  mul  \a_1, \a_1, \qinv
  mul  \a_2, \a_2, \qinv
  mul  \a_3, \a_3, \qinv
  srai \a_0, \a_0, 32
  srai \a_1, \a_1, 32
  srai \a_2, \a_2, 32
  srai \a_3, \a_3, 32
  addi \a_0, \a_0, 256
  addi \a_1, \a_1, 256
  addi \a_2, \a_2, 256
  addi \a_3, \a_3, 256
  mulh \a_0, \a_0, \q32
  mulh \a_1, \a_1, \q32
  mulh \a_2, \a_2, \q32
  mulh \a_3, \a_3, \q32
.endm

// |input| < 0.5q; |output| < 4q
// API: a0: poly, a1: 64-bit twiddle ptr; a6: q<<32; a7: tmp, variable twiddle factors; gp: loop;
// s0-s11, a2-a5: 16 coeffs;
// 16+2+1+1=20 regs;
// 9 twiddle factors: can be preloaded; t0-t6, tp, ra.
.global ntt_8l_rv64im
.align 2
ntt_8l_rv64im:
  addi sp, sp, -8*15
  save_regs
  li a6, q32          // q<<32
  addi a0, a0, 16*4   // poly[16]
  addi gp, x0, 15     // loop
  ld t0, 0*8(a1)
  ld t1, 1*8(a1)
  ld t2, 2*8(a1)
  ld t3, 3*8(a1)
  ld t4, 4*8(a1)
  ld t5, 5*8(a1)
  ld t6, 6*8(a1)
  ld tp, 7*8(a1)
  ld ra, 8*8(a1)
  // LAYER 1+2+3+4
  ntt_8l_rv64im_loop1:
        main_loop_1:
                                    // Instructions:    231
                                    // Expected cycles: 182
                                    // Expected IPC:    1.27
                                    //
                                    // --------------------------------------------------------------------------------- cycle (expected) ---------------------------------------------------------------------------------->
                                    // 0                        25                       50                       75                       100                      125                      150                      175
                                    // |------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------
        addi x10, x10, -4           // *.....................................................................................................................................................................................
        lw x22, 16*4*8(x10)         // .*....................................................................................................................................................................................
        lw x21, 16*4*0(x10)         // ..*...................................................................................................................................................................................
        lw x9, 16*4*1(x10)          // ...*..................................................................................................................................................................................
        mul x22, x22, x5            // ....*.................................................................................................................................................................................
        lw x18, 16*4*2(x10)         // ....*.................................................................................................................................................................................
        lw x19, 16*4*3(x10)         // .....*................................................................................................................................................................................
        lw x20, 16*4*4(x10)         // ......*...............................................................................................................................................................................
        lw x23, 16*4*7(x10)         // .......*..............................................................................................................................................................................
        srai x22, x22, 32           // ........*.............................................................................................................................................................................
        lw x25, 16*4*9(x10)         // ........*.............................................................................................................................................................................
        addi x22, x22, 256          // .........*............................................................................................................................................................................
        lw x26, 16*4*10(x10)        // .........*............................................................................................................................................................................
        mulh x22, x22, x16          // ..........*...........................................................................................................................................................................
        lw x27, 16*4*11(x10)        // ..........*...........................................................................................................................................................................
        lw x12, 16*4*12(x10)        // ...........*..........................................................................................................................................................................
        lw x13, 16*4*13(x10)        // ............*.........................................................................................................................................................................
        lw x14, 16*4*14(x10)        // .............*........................................................................................................................................................................
        lw x15, 16*4*15(x10)        // ..............*.......................................................................................................................................................................
        sub x24, x21, x22           // ..............*.......................................................................................................................................................................
        add x8, x21, x22            // ...............*......................................................................................................................................................................
        lw x22, 16*4*6(x10)         // ...............*......................................................................................................................................................................
        lw x21, 16*4*5(x10)         // ................*.....................................................................................................................................................................
        mul x17, x25, x5            // ................*.....................................................................................................................................................................
        mul x25, x26, x5            // ..................*...................................................................................................................................................................
        mul x27, x27, x5            // ....................*.................................................................................................................................................................
        srai x17, x17, 32           // ....................*.................................................................................................................................................................
        addi x17, x17, 256          // .....................*................................................................................................................................................................
        mul x12, x12, x5            // ......................*...............................................................................................................................................................
        srai x25, x25, 32           // ......................*...............................................................................................................................................................
        addi x26, x25, 256          // .......................*..............................................................................................................................................................
        srai x27, x27, 32           // ........................*.............................................................................................................................................................
        mulh x17, x17, x16          // ........................*.............................................................................................................................................................
        addi x25, x27, 256          // .........................*............................................................................................................................................................
        srai x12, x12, 32           // ..........................*...........................................................................................................................................................
        mulh x27, x26, x16          // ..........................*...........................................................................................................................................................
        addi x26, x12, 256          // ...........................*..........................................................................................................................................................
        mulh x12, x25, x16          // ............................*.........................................................................................................................................................
        sub x25, x9, x17            // ............................*.........................................................................................................................................................
        add x9, x9, x17             // .............................*........................................................................................................................................................
        mulh x17, x26, x16          // ..............................*.......................................................................................................................................................
        sub x26, x18, x27           // ..............................*.......................................................................................................................................................
        add x18, x18, x27           // ...............................*......................................................................................................................................................
        sub x27, x19, x12           // ................................*.....................................................................................................................................................
        add x19, x19, x12           // ................................*.....................................................................................................................................................
        sub x12, x20, x17           // ..................................*...................................................................................................................................................
        add x20, x20, x17           // ..................................*...................................................................................................................................................
        mul x17, x13, x5            // ...................................*..................................................................................................................................................
        mul x14, x14, x5            // .....................................*................................................................................................................................................
        mul x15, x15, x5            // .......................................*..............................................................................................................................................
        srai x17, x17, 32           // .......................................*..............................................................................................................................................
        addi x17, x17, 256          // ........................................*.............................................................................................................................................
        mul x20, x20, x6            // .........................................*............................................................................................................................................
        srai x14, x14, 32           // .........................................*............................................................................................................................................
        addi x14, x14, 256          // ..........................................*...........................................................................................................................................
        srai x15, x15, 32           // ...........................................*..........................................................................................................................................
        mulh x13, x14, x16          // ...........................................*..........................................................................................................................................
        addi x14, x15, 256          // ............................................*.........................................................................................................................................
        mulh x17, x17, x16          // .............................................*........................................................................................................................................
        srai x20, x20, 32           // .............................................*........................................................................................................................................
        addi x15, x20, 256          // ..............................................*.......................................................................................................................................
        mulh x20, x14, x16          // ...............................................*......................................................................................................................................
        sub x14, x22, x13           // ...............................................*......................................................................................................................................
        add x22, x22, x13           // ................................................*.....................................................................................................................................
        sub x13, x21, x17           // .................................................*....................................................................................................................................
        add x21, x21, x17           // .................................................*....................................................................................................................................
        mulh x17, x15, x16          // ..................................................*...................................................................................................................................
        sub x15, x23, x20           // ...................................................*..................................................................................................................................
        add x23, x23, x20           // ...................................................*..................................................................................................................................
        mul x22, x22, x6            // ....................................................*.................................................................................................................................
        sub x20, x8, x17            // ......................................................*...............................................................................................................................
        add x8, x8, x17             // ......................................................*...............................................................................................................................
        mul x17, x23, x6            // .......................................................*..............................................................................................................................
        mul x23, x12, x7            // .........................................................*............................................................................................................................
        srai x22, x22, 32           // .........................................................*............................................................................................................................
        addi x12, x22, 256          // ..........................................................*...........................................................................................................................
        mul x22, x21, x6            // ...........................................................*..........................................................................................................................
        srai x21, x17, 32           // ...........................................................*..........................................................................................................................
        addi x17, x21, 256          // ............................................................*.........................................................................................................................
        mulh x21, x12, x16          // .............................................................*........................................................................................................................
        srai x22, x22, 32           // ...............................................................*......................................................................................................................
        mulh x17, x17, x16          // ...............................................................*......................................................................................................................
        addi x22, x22, 256          // ................................................................*.....................................................................................................................
        mulh x12, x22, x16          // .................................................................*....................................................................................................................
        sub x22, x18, x21           // .................................................................*....................................................................................................................
        add x18, x18, x21           // ..................................................................*...................................................................................................................
        srai x21, x23, 32           // ..................................................................*...................................................................................................................
        sub x23, x19, x17           // ...................................................................*..................................................................................................................
        add x19, x19, x17           // ...................................................................*..................................................................................................................
        addi x17, x21, 256          // ....................................................................*.................................................................................................................
        sub x21, x9, x12            // .....................................................................*................................................................................................................
        add x9, x9, x12             // .....................................................................*................................................................................................................
        mulh x17, x17, x16          // ......................................................................*...............................................................................................................
        mul x13, x13, x7            // ........................................................................*.............................................................................................................
        mul x14, x14, x7            // ..........................................................................*...........................................................................................................
        sub x12, x24, x17           // ..........................................................................*...........................................................................................................
        add x24, x24, x17           // ...........................................................................*..........................................................................................................
        mul x17, x15, x7            // ............................................................................*.........................................................................................................
        srai x15, x13, 32           // ............................................................................*.........................................................................................................
        addi x15, x15, 256          // .............................................................................*........................................................................................................
        mul x18, x18, x28           // ..............................................................................*.......................................................................................................
        srai x14, x14, 32           // ..............................................................................*.......................................................................................................
        addi x14, x14, 256          // ...............................................................................*......................................................................................................
        srai x17, x17, 32           // ................................................................................*.....................................................................................................
        mulh x13, x14, x16          // ................................................................................*.....................................................................................................
        addi x14, x17, 256          // .................................................................................*....................................................................................................
        mulh x15, x15, x16          // ..................................................................................*...................................................................................................
        srai x17, x18, 32           // ..................................................................................*...................................................................................................
        addi x17, x17, 256          // ...................................................................................*..................................................................................................
        mulh x18, x14, x16          // ....................................................................................*.................................................................................................
        sub x14, x26, x13           // ....................................................................................*.................................................................................................
        add x26, x26, x13           // .....................................................................................*................................................................................................
        sub x13, x25, x15           // ......................................................................................*...............................................................................................
        add x25, x25, x15           // ......................................................................................*...............................................................................................
        sub x15, x27, x18           // ........................................................................................*.............................................................................................
        add x27, x27, x18           // ........................................................................................*.............................................................................................
        mulh x17, x17, x16          // .........................................................................................*............................................................................................
        mul x19, x19, x28           // ...........................................................................................*..........................................................................................
        mul x22, x22, x29           // .............................................................................................*........................................................................................
        sub x18, x8, x17            // .............................................................................................*........................................................................................
        add x8, x8, x17             // ..............................................................................................*.......................................................................................
        mul x23, x23, x29           // ...............................................................................................*......................................................................................
        srai x17, x19, 32           // ...............................................................................................*......................................................................................
        addi x17, x17, 256          // ................................................................................................*.....................................................................................
        mul x26, x26, x30           // .................................................................................................*....................................................................................
        srai x22, x22, 32           // .................................................................................................*....................................................................................
        addi x22, x22, 256          // ..................................................................................................*...................................................................................
        srai x23, x23, 32           // ...................................................................................................*..................................................................................
        mulh x19, x22, x16          // ...................................................................................................*..................................................................................
        addi x22, x23, 256          // ....................................................................................................*.................................................................................
        mulh x23, x17, x16          // .....................................................................................................*................................................................................
        srai x17, x26, 32           // .....................................................................................................*................................................................................
        mulh x26, x22, x16          // .......................................................................................................*..............................................................................
        sub x22, x20, x19           // .......................................................................................................*..............................................................................
        add x20, x20, x19           // ........................................................................................................*.............................................................................
        sub x19, x9, x23            // .........................................................................................................*............................................................................
        add x9, x9, x23             // .........................................................................................................*............................................................................
        sub x23, x21, x26           // ...........................................................................................................*..........................................................................
        add x21, x21, x26           // ...........................................................................................................*..........................................................................
        mul x14, x14, x31           // ............................................................................................................*.........................................................................
        mul x26, x27, x30           // ..............................................................................................................*.......................................................................
        addi x27, x17, 256          // ..............................................................................................................*.......................................................................
        mul x15, x15, x31           // ................................................................................................................*.....................................................................
        srai x14, x14, 32           // ................................................................................................................*.....................................................................
        addi x17, x14, 256          // .................................................................................................................*....................................................................
        srai x14, x26, 32           // ..................................................................................................................*...................................................................
        mulh x27, x27, x16          // ..................................................................................................................*...................................................................
        addi x26, x14, 256          // ...................................................................................................................*..................................................................
        srai x14, x15, 32           // ....................................................................................................................*.................................................................
        mulh x15, x26, x16          // ....................................................................................................................*.................................................................
        addi x14, x14, 256          // .....................................................................................................................*................................................................
        mulh x14, x14, x16          // ......................................................................................................................*...............................................................
        sub x26, x24, x27           // ......................................................................................................................*...............................................................
        add x24, x24, x27           // .......................................................................................................................*..............................................................
        mulh x17, x17, x16          // ........................................................................................................................*.............................................................
        sub x27, x25, x15           // ........................................................................................................................*.............................................................
        add x25, x25, x15           // .........................................................................................................................*............................................................
        sub x15, x13, x14           // ..........................................................................................................................*...........................................................
        add x13, x13, x14           // ..........................................................................................................................*...........................................................
        sub x14, x12, x17           // ............................................................................................................................*.........................................................
        add x12, x12, x17           // ............................................................................................................................*.........................................................
        mul x17, x9, x4             // .............................................................................................................................*........................................................
        srai x9, x17, 32            // .................................................................................................................................*....................................................
        ld x17, 9*8(x11)            // .................................................................................................................................*....................................................
        mul x19, x19, x1            // ..................................................................................................................................*...................................................
        mul x17, x21, x17           // ....................................................................................................................................*.................................................
        addi x21, x9, 256           // ....................................................................................................................................*.................................................
        ld x9, 10*8(x11)            // .....................................................................................................................................*................................................
        srai x19, x19, 32           // ......................................................................................................................................*...............................................
        mulh x21, x21, x16          // ......................................................................................................................................*...............................................
        addi x19, x19, 256          // .......................................................................................................................................*..............................................
        srai x17, x17, 32           // ........................................................................................................................................*.............................................
        mul x23, x23, x9            // ........................................................................................................................................*.............................................
        addi x17, x17, 256          // .........................................................................................................................................*............................................
        mulh x17, x17, x16          // ..........................................................................................................................................*...........................................
        sub x9, x8, x21             // ..........................................................................................................................................*...........................................
        add x8, x8, x21             // ...........................................................................................................................................*..........................................
        srai x21, x23, 32           // ............................................................................................................................................*.........................................
        mulh x23, x19, x16          // ............................................................................................................................................*.........................................
        addi x19, x21, 256          // .............................................................................................................................................*........................................
        sub x21, x20, x17           // ..............................................................................................................................................*.......................................
        add x20, x20, x17           // ..............................................................................................................................................*.......................................
        mulh x17, x19, x16          // ...............................................................................................................................................*......................................
        sub x19, x18, x23           // ................................................................................................................................................*.....................................
        add x18, x18, x23           // ................................................................................................................................................*.....................................
        ld x23, 12*8(x11)           // .................................................................................................................................................*....................................
        mul x23, x27, x23           // ....................................................................................................................................................*.................................
        ld x27, 13*8(x11)           // ....................................................................................................................................................*.................................
        mul x13, x13, x27           // .......................................................................................................................................................*..............................
        ld x27, 11*8(x11)           // .......................................................................................................................................................*..............................
        srai x23, x23, 32           // ........................................................................................................................................................*.............................
        addi x23, x23, 256          // .........................................................................................................................................................*............................
        mul x27, x25, x27           // ..........................................................................................................................................................*...........................
        srai x25, x13, 32           // ...........................................................................................................................................................*..........................
        mulh x13, x23, x16          // ............................................................................................................................................................*.........................
        addi x23, x25, 256          // ............................................................................................................................................................*.........................
        srai x27, x27, 32           // ..............................................................................................................................................................*.......................
        mulh x25, x23, x16          // ..............................................................................................................................................................*.......................
        addi x27, x27, 256          // ...............................................................................................................................................................*......................
        sub x23, x22, x17           // ...............................................................................................................................................................*......................
        add x22, x22, x17           // ................................................................................................................................................................*.....................
        mulh x17, x27, x16          // ................................................................................................................................................................*.....................
        sub x27, x26, x13           // .................................................................................................................................................................*....................
        add x26, x26, x13           // .................................................................................................................................................................*....................
        sub x13, x12, x25           // ..................................................................................................................................................................*...................
        add x12, x12, x25           // ..................................................................................................................................................................*...................
        sub x25, x24, x17           // ....................................................................................................................................................................*.................
        add x24, x24, x17           // ....................................................................................................................................................................*.................
        ld x17, 14*8(x11)           // .....................................................................................................................................................................*................
        sw x8, 16*4*0(x10)          // ......................................................................................................................................................................*...............
        sw x19, 16*4*3(x10)         // .......................................................................................................................................................................*..............
        sw x20, 16*4*4(x10)         // ........................................................................................................................................................................*.............
        mul x19, x15, x17           // ........................................................................................................................................................................*.............
        sw x21, 16*4*5(x10)         // .........................................................................................................................................................................*............
        sw x22, 16*4*6(x10)         // ..........................................................................................................................................................................*...........
        sw x9, 16*4*1(x10)          // ...........................................................................................................................................................................*..........
        sw x23, 16*4*7(x10)         // ............................................................................................................................................................................*.........
        srai x22, x19, 32           // ............................................................................................................................................................................*.........
        sw x24, 16*4*8(x10)         // .............................................................................................................................................................................*........
        addi x22, x22, 256          // .............................................................................................................................................................................*........
        sw x25, 16*4*9(x10)         // ..............................................................................................................................................................................*.......
        mulh x22, x22, x16          // ..............................................................................................................................................................................*.......
        sw x26, 16*4*10(x10)        // ...............................................................................................................................................................................*......
        sw x27, 16*4*11(x10)        // ................................................................................................................................................................................*.....
        sw x12, 16*4*12(x10)        // .................................................................................................................................................................................*....
        sw x13, 16*4*13(x10)        // ..................................................................................................................................................................................*...
        add x21, x14, x22           // ..................................................................................................................................................................................*...
        sw x18, 16*4*2(x10)         // ...................................................................................................................................................................................*..
        sub x22, x14, x22           // ...................................................................................................................................................................................*..
        sw x21, 16*4*14(x10)        // ....................................................................................................................................................................................*.
        sw x22, 16*4*15(x10)        // .....................................................................................................................................................................................*

                                      // --------------------------------------------------------------------------------- cycle (expected) ---------------------------------------------------------------------------------->
                                      // 0                        25                       50                       75                       100                      125                      150                      175
                                      // |------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------
        // addi x10, x10, -4          // *.....................................................................................................................................................................................
        // lw x8,  16*4*0(x10)        // ..*...................................................................................................................................................................................
        // lw x9,  16*4*1(x10)        // ...*..................................................................................................................................................................................
        // lw x18,  16*4*2(x10)       // ....*.................................................................................................................................................................................
        // lw x19,  16*4*3(x10)       // .....*................................................................................................................................................................................
        // lw x20,  16*4*4(x10)       // ......*...............................................................................................................................................................................
        // lw x21,  16*4*5(x10)       // ................*.....................................................................................................................................................................
        // lw x22,  16*4*6(x10)       // ...............*......................................................................................................................................................................
        // lw x23,  16*4*7(x10)       // .......*..............................................................................................................................................................................
        // lw x24,  16*4*8(x10)       // .*....................................................................................................................................................................................
        // lw x25,  16*4*9(x10)       // ........*.............................................................................................................................................................................
        // lw x26, 16*4*10(x10)       // .........*............................................................................................................................................................................
        // lw x27, 16*4*11(x10)       // ..........*...........................................................................................................................................................................
        // lw x12,  16*4*12(x10)      // ...........*..........................................................................................................................................................................
        // lw x13,  16*4*13(x10)      // ............*.........................................................................................................................................................................
        // lw x14,  16*4*14(x10)      // .............*........................................................................................................................................................................
        // lw x15,  16*4*15(x10)      // ..............*.......................................................................................................................................................................
        // mul  x17, x24, x5          // ....*.................................................................................................................................................................................
        // srai x17, x17, 32          // ........*.............................................................................................................................................................................
        // addi x17, x17, 256         // .........*............................................................................................................................................................................
        // mulh x17, x17, x16         // ..........*...........................................................................................................................................................................
        // sub x24, x8, x17           // ..............*.......................................................................................................................................................................
        // add x8, x8, x17            // ...............*......................................................................................................................................................................
        // mul  x17, x25, x5          // ................*.....................................................................................................................................................................
        // srai x17, x17, 32          // ....................*.................................................................................................................................................................
        // addi x17, x17, 256         // .....................*................................................................................................................................................................
        // mulh x17, x17, x16         // ........................*.............................................................................................................................................................
        // sub x25, x9, x17           // ............................*.........................................................................................................................................................
        // add x9, x9, x17            // .............................*........................................................................................................................................................
        // mul  x17, x26, x5          // ..................*...................................................................................................................................................................
        // srai x17, x17, 32          // ......................*...............................................................................................................................................................
        // addi x17, x17, 256         // .......................*..............................................................................................................................................................
        // mulh x17, x17, x16         // ..........................*...........................................................................................................................................................
        // sub x26, x18, x17          // ..............................*.......................................................................................................................................................
        // add x18, x18, x17          // ...............................*......................................................................................................................................................
        // mul  x17, x27, x5          // ....................*.................................................................................................................................................................
        // srai x17, x17, 32          // ........................*.............................................................................................................................................................
        // addi x17, x17, 256         // .........................*............................................................................................................................................................
        // mulh x17, x17, x16         // ............................*.........................................................................................................................................................
        // sub x27, x19, x17          // ................................*.....................................................................................................................................................
        // add x19, x19, x17          // ................................*.....................................................................................................................................................
        // mul  x17, x12, x5          // ......................*...............................................................................................................................................................
        // srai x17, x17, 32          // ..........................*...........................................................................................................................................................
        // addi x17, x17, 256         // ...........................*..........................................................................................................................................................
        // mulh x17, x17, x16         // ..............................*.......................................................................................................................................................
        // sub x12, x20, x17          // ..................................*...................................................................................................................................................
        // add x20, x20, x17          // ..................................*...................................................................................................................................................
        // mul  x17, x13, x5          // ...................................*..................................................................................................................................................
        // srai x17, x17, 32          // .......................................*..............................................................................................................................................
        // addi x17, x17, 256         // ........................................*.............................................................................................................................................
        // mulh x17, x17, x16         // .............................................*........................................................................................................................................
        // sub x13, x21, x17          // .................................................*....................................................................................................................................
        // add x21, x21, x17          // .................................................*....................................................................................................................................
        // mul  x17, x14, x5          // .....................................*................................................................................................................................................
        // srai x17, x17, 32          // .........................................*............................................................................................................................................
        // addi x17, x17, 256         // ..........................................*...........................................................................................................................................
        // mulh x17, x17, x16         // ...........................................*..........................................................................................................................................
        // sub x14, x22, x17          // ...............................................*......................................................................................................................................
        // add x22, x22, x17          // ................................................*.....................................................................................................................................
        // mul  x17, x15, x5          // .......................................*..............................................................................................................................................
        // srai x17, x17, 32          // ...........................................*..........................................................................................................................................
        // addi x17, x17, 256         // ............................................*.........................................................................................................................................
        // mulh x17, x17, x16         // ...............................................*......................................................................................................................................
        // sub x15, x23, x17          // ...................................................*..................................................................................................................................
        // add x23, x23, x17          // ...................................................*..................................................................................................................................
        // mul  x17, x20, x6          // .........................................*............................................................................................................................................
        // srai x17, x17, 32          // .............................................*........................................................................................................................................
        // addi x17, x17, 256         // ..............................................*.......................................................................................................................................
        // mulh x17, x17, x16         // ..................................................*...................................................................................................................................
        // sub x20, x8, x17           // ......................................................*...............................................................................................................................
        // add x8, x8, x17            // ......................................................*...............................................................................................................................
        // mul  x17, x21, x6          // ...........................................................*..........................................................................................................................
        // srai x17, x17, 32          // ...............................................................*......................................................................................................................
        // addi x17, x17, 256         // ................................................................*.....................................................................................................................
        // mulh x17, x17, x16         // .................................................................*....................................................................................................................
        // sub x21, x9, x17           // .....................................................................*................................................................................................................
        // add x9, x9, x17            // .....................................................................*................................................................................................................
        // mul  x17, x22, x6          // ....................................................*.................................................................................................................................
        // srai x17, x17, 32          // .........................................................*............................................................................................................................
        // addi x17, x17, 256         // ..........................................................*...........................................................................................................................
        // mulh x17, x17, x16         // .............................................................*........................................................................................................................
        // sub x22, x18, x17          // .................................................................*....................................................................................................................
        // add x18, x18, x17          // ..................................................................*...................................................................................................................
        // mul  x17, x23, x6          // .......................................................*..............................................................................................................................
        // srai x17, x17, 32          // ...........................................................*..........................................................................................................................
        // addi x17, x17, 256         // ............................................................*.........................................................................................................................
        // mulh x17, x17, x16         // ...............................................................*......................................................................................................................
        // sub x23, x19, x17          // ...................................................................*..................................................................................................................
        // add x19, x19, x17          // ...................................................................*..................................................................................................................
        // mul  x17, x12, x7          // .........................................................*............................................................................................................................
        // srai x17, x17, 32          // ..................................................................*...................................................................................................................
        // addi x17, x17, 256         // ....................................................................*.................................................................................................................
        // mulh x17, x17, x16         // ......................................................................*...............................................................................................................
        // sub x12, x24, x17          // ..........................................................................*...........................................................................................................
        // add x24, x24, x17          // ...........................................................................*..........................................................................................................
        // mul  x17, x13, x7          // ........................................................................*.............................................................................................................
        // srai x17, x17, 32          // ............................................................................*.........................................................................................................
        // addi x17, x17, 256         // .............................................................................*........................................................................................................
        // mulh x17, x17, x16         // ..................................................................................*...................................................................................................
        // sub x13, x25, x17          // ......................................................................................*...............................................................................................
        // add x25, x25, x17          // ......................................................................................*...............................................................................................
        // mul  x17, x14, x7          // ..........................................................................*...........................................................................................................
        // srai x17, x17, 32          // ..............................................................................*.......................................................................................................
        // addi x17, x17, 256         // ...............................................................................*......................................................................................................
        // mulh x17, x17, x16         // ................................................................................*.....................................................................................................
        // sub x14, x26, x17          // ....................................................................................*.................................................................................................
        // add x26, x26, x17          // .....................................................................................*................................................................................................
        // mul  x17, x15, x7          // ............................................................................*.........................................................................................................
        // srai x17, x17, 32          // ................................................................................*.....................................................................................................
        // addi x17, x17, 256         // .................................................................................*....................................................................................................
        // mulh x17, x17, x16         // ....................................................................................*.................................................................................................
        // sub x15, x27, x17          // ........................................................................................*.............................................................................................
        // add x27, x27, x17          // ........................................................................................*.............................................................................................
        // mul  x17, x18, x28         // ..............................................................................*.......................................................................................................
        // srai x17, x17, 32          // ..................................................................................*...................................................................................................
        // addi x17, x17, 256         // ...................................................................................*..................................................................................................
        // mulh x17, x17, x16         // .........................................................................................*............................................................................................
        // sub x18, x8, x17           // .............................................................................................*........................................................................................
        // add x8, x8, x17            // ..............................................................................................*.......................................................................................
        // mul  x17, x19, x28         // ...........................................................................................*..........................................................................................
        // srai x17, x17, 32          // ...............................................................................................*......................................................................................
        // addi x17, x17, 256         // ................................................................................................*.....................................................................................
        // mulh x17, x17, x16         // .....................................................................................................*................................................................................
        // sub x19, x9, x17           // .........................................................................................................*............................................................................
        // add x9, x9, x17            // .........................................................................................................*............................................................................
        // mul  x17, x22, x29         // .............................................................................................*........................................................................................
        // srai x17, x17, 32          // .................................................................................................*....................................................................................
        // addi x17, x17, 256         // ..................................................................................................*...................................................................................
        // mulh x17, x17, x16         // ...................................................................................................*..................................................................................
        // sub x22, x20, x17          // .......................................................................................................*..............................................................................
        // add x20, x20, x17          // ........................................................................................................*.............................................................................
        // mul  x17, x23, x29         // ...............................................................................................*......................................................................................
        // srai x17, x17, 32          // ...................................................................................................*..................................................................................
        // addi x17, x17, 256         // ....................................................................................................*.................................................................................
        // mulh x17, x17, x16         // .......................................................................................................*..............................................................................
        // sub x23, x21, x17          // ...........................................................................................................*..........................................................................
        // add x21, x21, x17          // ...........................................................................................................*..........................................................................
        // mul  x17, x26, x30         // .................................................................................................*....................................................................................
        // srai x17, x17, 32          // .....................................................................................................*................................................................................
        // addi x17, x17, 256         // ..............................................................................................................*.......................................................................
        // mulh x17, x17, x16         // ..................................................................................................................*...................................................................
        // sub x26, x24, x17          // ......................................................................................................................*...............................................................
        // add x24, x24, x17          // .......................................................................................................................*..............................................................
        // mul  x17, x27, x30         // ..............................................................................................................*.......................................................................
        // srai x17, x17, 32          // ..................................................................................................................*...................................................................
        // addi x17, x17, 256         // ...................................................................................................................*..................................................................
        // mulh x17, x17, x16         // ....................................................................................................................*.................................................................
        // sub x27, x25, x17          // ........................................................................................................................*.............................................................
        // add x25, x25, x17          // .........................................................................................................................*............................................................
        // mul  x17, x14, x31         // ............................................................................................................*.........................................................................
        // srai x17, x17, 32          // ................................................................................................................*.....................................................................
        // addi x17, x17, 256         // .................................................................................................................*....................................................................
        // mulh x17, x17, x16         // ........................................................................................................................*.............................................................
        // sub x14, x12, x17          // ............................................................................................................................*.........................................................
        // add x12, x12, x17          // ............................................................................................................................*.........................................................
        // mul  x17, x15, x31         // ................................................................................................................*.....................................................................
        // srai x17, x17, 32          // ....................................................................................................................*.................................................................
        // addi x17, x17, 256         // .....................................................................................................................*................................................................
        // mulh x17, x17, x16         // ......................................................................................................................*...............................................................
        // sub x15, x13, x17          // ..........................................................................................................................*...........................................................
        // add x13, x13, x17          // ..........................................................................................................................*...........................................................
        // mul  x17, x9, x4           // .............................................................................................................................*........................................................
        // srai x17, x17, 32          // .................................................................................................................................*....................................................
        // addi x17, x17, 256         // ....................................................................................................................................*.................................................
        // mulh x17, x17, x16         // ......................................................................................................................................*...............................................
        // sub x9, x8, x17            // ..........................................................................................................................................*...........................................
        // add x8, x8, x17            // ...........................................................................................................................................*..........................................
        // mul  x17, x19, x1          // ..................................................................................................................................*...................................................
        // srai x17, x17, 32          // ......................................................................................................................................*...............................................
        // addi x17, x17, 256         // .......................................................................................................................................*..............................................
        // mulh x17, x17, x16         // ............................................................................................................................................*.........................................
        // sub x19, x18, x17          // ................................................................................................................................................*.....................................
        // add x18, x18, x17          // ................................................................................................................................................*.....................................
        // ld x17, 9*8(x11)           // .................................................................................................................................*....................................................
        // mul  x17, x21, x17         // ....................................................................................................................................*.................................................
        // srai x17, x17, 32          // ........................................................................................................................................*.............................................
        // addi x17, x17, 256         // .........................................................................................................................................*............................................
        // mulh x17, x17, x16         // ..........................................................................................................................................*...........................................
        // sub x21, x20, x17          // ..............................................................................................................................................*.......................................
        // add x20, x20, x17          // ..............................................................................................................................................*.......................................
        // ld x17, 10*8(x11)          // .....................................................................................................................................*................................................
        // mul  x17, x23, x17         // ........................................................................................................................................*.............................................
        // srai x17, x17, 32          // ............................................................................................................................................*.........................................
        // addi x17, x17, 256         // .............................................................................................................................................*........................................
        // mulh x17, x17, x16         // ...............................................................................................................................................*......................................
        // sub x23, x22, x17          // ...............................................................................................................................................................*......................
        // add x22, x22, x17          // ................................................................................................................................................................*.....................
        // ld x17, 11*8(x11)          // .......................................................................................................................................................*..............................
        // mul  x17, x25, x17         // ..........................................................................................................................................................*...........................
        // srai x17, x17, 32          // ..............................................................................................................................................................*.......................
        // addi x17, x17, 256         // ...............................................................................................................................................................*......................
        // mulh x17, x17, x16         // ................................................................................................................................................................*.....................
        // sub x25, x24, x17          // ....................................................................................................................................................................*.................
        // add x24, x24, x17          // ....................................................................................................................................................................*.................
        // ld x17, 12*8(x11)          // .................................................................................................................................................*....................................
        // mul  x17, x27, x17         // ....................................................................................................................................................*.................................
        // srai x17, x17, 32          // ........................................................................................................................................................*.............................
        // addi x17, x17, 256         // .........................................................................................................................................................*............................
        // mulh x17, x17, x16         // ............................................................................................................................................................*.........................
        // sub x27, x26, x17          // .................................................................................................................................................................*....................
        // add x26, x26, x17          // .................................................................................................................................................................*....................
        // ld x17, 13*8(x11)          // ....................................................................................................................................................*.................................
        // mul  x17, x13, x17         // .......................................................................................................................................................*..............................
        // srai x17, x17, 32          // ...........................................................................................................................................................*..........................
        // addi x17, x17, 256         // ............................................................................................................................................................*.........................
        // mulh x17, x17, x16         // ..............................................................................................................................................................*.......................
        // sub x13, x12, x17          // ..................................................................................................................................................................*...................
        // add x12, x12, x17          // ..................................................................................................................................................................*...................
        // ld x17, 14*8(x11)          // .....................................................................................................................................................................*................
        // mul  x17, x15, x17         // ........................................................................................................................................................................*.............
        // srai x17, x17, 32          // ............................................................................................................................................................................*.........
        // addi x17, x17, 256         // .............................................................................................................................................................................*........
        // mulh x17, x17, x16         // ..............................................................................................................................................................................*.......
        // sub x15, x14, x17          // ...................................................................................................................................................................................*..
        // add x14, x14, x17          // ..................................................................................................................................................................................*...
        // sw x8,  16*4*0(x10)        // ......................................................................................................................................................................*...............
        // sw x9,  16*4*1(x10)        // ...........................................................................................................................................................................*..........
        // sw x18,  16*4*2(x10)       // ...................................................................................................................................................................................*..
        // sw x19,  16*4*3(x10)       // .......................................................................................................................................................................*..............
        // sw x20,  16*4*4(x10)       // ........................................................................................................................................................................*.............
        // sw x21,  16*4*5(x10)       // .........................................................................................................................................................................*............
        // sw x22,  16*4*6(x10)       // ..........................................................................................................................................................................*...........
        // sw x23,  16*4*7(x10)       // ............................................................................................................................................................................*.........
        // sw x24,  16*4*8(x10)       // .............................................................................................................................................................................*........
        // sw x25,  16*4*9(x10)       // ..............................................................................................................................................................................*.......
        // sw x26, 16*4*10(x10)       // ...............................................................................................................................................................................*......
        // sw x27, 16*4*11(x10)       // ................................................................................................................................................................................*.....
        // sw x12,  16*4*12(x10)      // .................................................................................................................................................................................*....
        // sw x13,  16*4*13(x10)      // ..................................................................................................................................................................................*...
        // sw x14,  16*4*14(x10)      // ....................................................................................................................................................................................*.
        // sw x15,  16*4*15(x10)      // .....................................................................................................................................................................................*

        end_loop_1:

  addi gp, gp, -1
  bge gp, zero, ntt_8l_rv64im_loop1
  addi a1, a1, 15*8
  // LAYER 5+6+7+8
  addi gp, x0, 16
  ntt_8l_rv64im_loop2:
        main_loop_2:
                                   // Instructions:    241
                                   // Expected cycles: 188
                                   // Expected IPC:    1.28
                                   //
                                   // ------------------------------------------------------------------------------------ cycle (expected) ------------------------------------------------------------------------------------->
                                   // 0                        25                       50                       75                       100                      125                      150                      175
                                   // |------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------
        lw x8, 1*4*0(x10)          // *...........................................................................................................................................................................................
        lw x9, 1*4*1(x10)          // .*..........................................................................................................................................................................................
        lw x18, 1*4*2(x10)         // ..*.........................................................................................................................................................................................
        lw x19, 1*4*3(x10)         // ...*........................................................................................................................................................................................
        lw x20, 1*4*4(x10)         // ....*.......................................................................................................................................................................................
        lw x21, 1*4*5(x10)         // .....*......................................................................................................................................................................................
        lw x22, 1*4*6(x10)         // ......*.....................................................................................................................................................................................
        lw x23, 1*4*7(x10)         // .......*....................................................................................................................................................................................
        lw x24, 1*4*8(x10)         // ........*...................................................................................................................................................................................
        lw x25, 1*4*9(x10)         // .........*..................................................................................................................................................................................
        lw x26, 1*4*10(x10)        // ..........*.................................................................................................................................................................................
        lw x27, 1*4*11(x10)        // ...........*................................................................................................................................................................................
        lw x12, 1*4*12(x10)        // ............*...............................................................................................................................................................................
        lw x13, 1*4*13(x10)        // .............*..............................................................................................................................................................................
        lw x14, 1*4*14(x10)        // ..............*.............................................................................................................................................................................
        lw x15, 1*4*15(x10)        // ...............*............................................................................................................................................................................
        ld x5, 0*8(x11)            // ................*...........................................................................................................................................................................
        ld x6, 1*8(x11)            // .................*..........................................................................................................................................................................
        ld x7, 2*8(x11)            // ..................*.........................................................................................................................................................................
        ld x28, 3*8(x11)           // ...................*........................................................................................................................................................................
        ld x29, 4*8(x11)           // ....................*.......................................................................................................................................................................
        ld x30, 5*8(x11)           // .....................*......................................................................................................................................................................
        ld x31, 6*8(x11)           // ......................*.....................................................................................................................................................................
        ld x4, 7*8(x11)            // .......................*....................................................................................................................................................................
        mul x17, x24, x5           // .......................*....................................................................................................................................................................
        ld x1, 8*8(x11)            // ........................*...................................................................................................................................................................
        mul x25, x25, x5           // .........................*..................................................................................................................................................................
        mul x24, x26, x5           // ...........................*................................................................................................................................................................
        srai x17, x17, 32          // ...........................*................................................................................................................................................................
        addi x17, x17, 256         // ............................*...............................................................................................................................................................
        mul x27, x27, x5           // .............................*..............................................................................................................................................................
        srai x25, x25, 32          // .............................*..............................................................................................................................................................
        addi x25, x25, 256         // ..............................*.............................................................................................................................................................
        srai x24, x24, 32          // ...............................*............................................................................................................................................................
        mulh x17, x17, x16         // ...............................*............................................................................................................................................................
        addi x24, x24, 256         // ................................*...........................................................................................................................................................
        srai x27, x27, 32          // .................................*..........................................................................................................................................................
        mulh x26, x25, x16         // .................................*..........................................................................................................................................................
        addi x25, x27, 256         // ..................................*.........................................................................................................................................................
        mulh x27, x24, x16         // ...................................*........................................................................................................................................................
        sub x24, x8, x17           // ...................................*........................................................................................................................................................
        add x8, x8, x17            // ....................................*.......................................................................................................................................................
        mulh x17, x25, x16         // .....................................*......................................................................................................................................................
        sub x25, x9, x26           // .....................................*......................................................................................................................................................
        add x9, x9, x26            // ......................................*.....................................................................................................................................................
        sub x26, x18, x27          // .......................................*....................................................................................................................................................
        add x18, x18, x27          // ........................................*...................................................................................................................................................
        sub x27, x19, x17          // .........................................*..................................................................................................................................................
        add x19, x19, x17          // ..........................................*.................................................................................................................................................
        mul x17, x13, x5           // ..........................................*.................................................................................................................................................
        mul x13, x12, x5           // ............................................*...............................................................................................................................................
        mul x12, x15, x5           // ..............................................*.............................................................................................................................................
        srai x17, x17, 32          // ..............................................*.............................................................................................................................................
        addi x17, x17, 256         // ...............................................*............................................................................................................................................
        srai x13, x13, 32          // ................................................*...........................................................................................................................................
        mulh x15, x17, x16         // ................................................*...........................................................................................................................................
        mul x17, x14, x5           // ..................................................*.........................................................................................................................................
        srai x5, x12, 32           // ..................................................*.........................................................................................................................................
        addi x12, x5, 256          // ...................................................*........................................................................................................................................
        addi x5, x13, 256          // ...................................................*........................................................................................................................................
        mulh x14, x5, x16          // ....................................................*.......................................................................................................................................
        sub x13, x21, x15          // ....................................................*.......................................................................................................................................
        add x21, x21, x15          // .....................................................*......................................................................................................................................
        srai x5, x17, 32           // ......................................................*.....................................................................................................................................
        mulh x17, x12, x16         // ......................................................*.....................................................................................................................................
        addi x15, x5, 256          // .......................................................*....................................................................................................................................
        mulh x5, x15, x16          // ........................................................*...................................................................................................................................
        sub x12, x20, x14          // ........................................................*...................................................................................................................................
        add x20, x20, x14          // .........................................................*..................................................................................................................................
        sub x15, x23, x17          // ..........................................................*.................................................................................................................................
        sub x14, x22, x5           // ............................................................*...............................................................................................................................
        add x22, x22, x5           // ............................................................*...............................................................................................................................
        add x5, x23, x17           // .............................................................*..............................................................................................................................
        mul x23, x20, x6           // .............................................................*..............................................................................................................................
        mul x21, x21, x6           // ...............................................................*............................................................................................................................
        mul x22, x22, x6           // .................................................................*..........................................................................................................................
        srai x23, x23, 32          // .................................................................*..........................................................................................................................
        addi x23, x23, 256         // ..................................................................*.........................................................................................................................
        mul x5, x5, x6             // ...................................................................*........................................................................................................................
        srai x21, x21, 32          // ...................................................................*........................................................................................................................
        addi x21, x21, 256         // ....................................................................*.......................................................................................................................
        srai x22, x22, 32          // .....................................................................*......................................................................................................................
        mulh x20, x21, x16         // .....................................................................*......................................................................................................................
        addi x22, x22, 256         // ......................................................................*.....................................................................................................................
        mulh x23, x23, x16         // .......................................................................*....................................................................................................................
        srai x21, x5, 32           // .......................................................................*....................................................................................................................
        addi x5, x21, 256          // ........................................................................*...................................................................................................................
        mulh x6, x22, x16          // .........................................................................*..................................................................................................................
        sub x21, x9, x20           // .........................................................................*..................................................................................................................
        add x9, x9, x20            // ..........................................................................*.................................................................................................................
        mulh x17, x5, x16          // ...........................................................................*................................................................................................................
        sub x20, x8, x23           // ...........................................................................*................................................................................................................
        add x8, x8, x23            // ............................................................................*...............................................................................................................
        sub x22, x18, x6           // .............................................................................*..............................................................................................................
        add x18, x18, x6           // ..............................................................................*.............................................................................................................
        sub x23, x19, x17          // ...............................................................................*............................................................................................................
        mul x5, x14, x7            // ...............................................................................*............................................................................................................
        add x19, x19, x17          // ................................................................................*...........................................................................................................
        mul x14, x13, x7           // .................................................................................*..........................................................................................................
        mul x6, x15, x7            // ...................................................................................*........................................................................................................
        mul x7, x12, x7            // .....................................................................................*......................................................................................................
        srai x17, x14, 32          // .....................................................................................*......................................................................................................
        addi x17, x17, 256         // ......................................................................................*.....................................................................................................
        srai x13, x6, 32           // .......................................................................................*....................................................................................................
        mulh x12, x17, x16         // .......................................................................................*....................................................................................................
        addi x15, x13, 256         // ........................................................................................*...................................................................................................
        srai x7, x7, 32            // .........................................................................................*..................................................................................................
        mulh x17, x15, x16         // .........................................................................................*..................................................................................................
        addi x13, x7, 256          // ..........................................................................................*.................................................................................................
        srai x7, x5, 32            // ...........................................................................................*................................................................................................
        mulh x6, x13, x16          // ...........................................................................................*................................................................................................
        addi x7, x7, 256           // ............................................................................................*...............................................................................................
        mulh x7, x7, x16           // .............................................................................................*..............................................................................................
        sub x13, x25, x12          // .............................................................................................*..............................................................................................
        add x25, x25, x12          // ..............................................................................................*.............................................................................................
        sub x12, x24, x6           // ...............................................................................................*............................................................................................
        add x24, x24, x6           // ................................................................................................*...........................................................................................
        sub x15, x27, x17          // ................................................................................................*...........................................................................................
        sub x14, x26, x7           // .................................................................................................*..........................................................................................
        add x26, x26, x7           // .................................................................................................*..........................................................................................
        add x27, x27, x17          // ..................................................................................................*.........................................................................................
        mul x7, x19, x28           // ..................................................................................................*.........................................................................................
        mul x5, x18, x28           // ....................................................................................................*.......................................................................................
        mul x22, x22, x29          // ......................................................................................................*.....................................................................................
        srai x17, x7, 32           // ......................................................................................................*.....................................................................................
        addi x18, x17, 256         // .......................................................................................................*....................................................................................
        srai x6, x5, 32            // ........................................................................................................*...................................................................................
        mulh x7, x18, x16          // ........................................................................................................*...................................................................................
        addi x18, x6, 256          // .........................................................................................................*..................................................................................
        srai x6, x22, 32           // ..........................................................................................................*.................................................................................
        mul x22, x23, x29          // ..........................................................................................................*.................................................................................
        addi x19, x6, 256          // ...........................................................................................................*................................................................................
        mulh x5, x19, x16          // ............................................................................................................*...............................................................................
        sub x19, x9, x7            // ............................................................................................................*...............................................................................
        mulh x28, x18, x16         // ..............................................................................................................*.............................................................................
        srai x18, x22, 32          // ..............................................................................................................*.............................................................................
        addi x23, x18, 256         // ...............................................................................................................*............................................................................
        mulh x29, x23, x16         // ................................................................................................................*...........................................................................
        sub x22, x20, x5           // ................................................................................................................*...........................................................................
        add x20, x20, x5           // .................................................................................................................*..........................................................................
        sub x18, x8, x28           // ..................................................................................................................*.........................................................................
        add x8, x8, x28            // ..................................................................................................................*.........................................................................
        add x9, x9, x7             // ...................................................................................................................*........................................................................
        sub x23, x21, x29          // ....................................................................................................................*.......................................................................
        add x21, x21, x29          // .....................................................................................................................*......................................................................
        mul x7, x14, x31           // .....................................................................................................................*......................................................................
        mul x15, x15, x31          // .......................................................................................................................*....................................................................
        srai x17, x7, 32           // .........................................................................................................................*..................................................................
        mul x7, x26, x30           // .........................................................................................................................*..................................................................
        addi x6, x17, 256          // ..........................................................................................................................*.................................................................
        srai x26, x15, 32          // ...........................................................................................................................*................................................................
        mulh x28, x6, x16          // ...........................................................................................................................*................................................................
        addi x29, x26, 256         // ............................................................................................................................*...............................................................
        srai x17, x7, 32           // .............................................................................................................................*..............................................................
        mul x7, x27, x30           // .............................................................................................................................*..............................................................
        addi x27, x17, 256         // ..............................................................................................................................*.............................................................
        mulh x27, x27, x16         // ...............................................................................................................................*............................................................
        sub x14, x12, x28          // ...............................................................................................................................*............................................................
        add x12, x12, x28          // ................................................................................................................................*...........................................................
        mulh x30, x29, x16         // .................................................................................................................................*..........................................................
        srai x5, x7, 32            // .................................................................................................................................*..........................................................
        addi x29, x5, 256          // ..................................................................................................................................*.........................................................
        mulh x7, x29, x16          // ...................................................................................................................................*........................................................
        sub x26, x24, x27          // ...................................................................................................................................*........................................................
        add x24, x24, x27          // ....................................................................................................................................*.......................................................
        sub x15, x13, x30          // .....................................................................................................................................*......................................................
        add x13, x13, x30          // .....................................................................................................................................*......................................................
        sub x27, x25, x7           // .......................................................................................................................................*....................................................
        add x25, x25, x7           // .......................................................................................................................................*....................................................
        mul x7, x9, x4             // ........................................................................................................................................*...................................................
        ld x4, 9*8(x11)            // ........................................................................................................................................*...................................................
        ld x30, 10*8(x11)          // .........................................................................................................................................*..................................................
        mul x5, x19, x1            // ..........................................................................................................................................*.................................................
        mul x4, x21, x4            // ............................................................................................................................................*...............................................
        srai x7, x7, 32            // ............................................................................................................................................*...............................................
        addi x7, x7, 256           // .............................................................................................................................................*..............................................
        mul x30, x23, x30          // ..............................................................................................................................................*.............................................
        srai x21, x5, 32           // ..............................................................................................................................................*.............................................
        addi x21, x21, 256         // ...............................................................................................................................................*............................................
        srai x4, x4, 32            // ................................................................................................................................................*...........................................
        mulh x21, x21, x16         // ................................................................................................................................................*...........................................
        addi x4, x4, 256           // .................................................................................................................................................*..........................................
        mulh x7, x7, x16           // ..................................................................................................................................................*.........................................
        srai x30, x30, 32          // ..................................................................................................................................................*.........................................
        addi x30, x30, 256         // ...................................................................................................................................................*........................................
        mulh x4, x4, x16           // ....................................................................................................................................................*.......................................
        sub x19, x18, x21          // ....................................................................................................................................................*.......................................
        add x18, x18, x21          // .....................................................................................................................................................*......................................
        sub x9, x8, x7             // ......................................................................................................................................................*.....................................
        add x8, x8, x7             // .......................................................................................................................................................*....................................
        mulh x17, x30, x16         // .......................................................................................................................................................*....................................
        sub x21, x20, x4           // ........................................................................................................................................................*...................................
        add x20, x20, x4           // ........................................................................................................................................................*...................................
        ld x7, 13*8(x11)           // .........................................................................................................................................................*..................................
        sub x23, x22, x17          // ...........................................................................................................................................................*................................
        add x22, x22, x17          // ............................................................................................................................................................*...............................
        ld x29, 11*8(x11)          // ............................................................................................................................................................*...............................
        ld x4, 12*8(x11)           // .............................................................................................................................................................*..............................
        mul x31, x13, x7           // .............................................................................................................................................................*..............................
        ld x17, 14*8(x11)          // ..............................................................................................................................................................*.............................
        mul x7, x25, x29           // ...............................................................................................................................................................*............................
        mul x30, x27, x4           // .................................................................................................................................................................*..........................
        srai x4, x31, 32           // .................................................................................................................................................................*..........................
        addi x4, x4, 256           // ..................................................................................................................................................................*.........................
        srai x7, x7, 32            // ...................................................................................................................................................................*........................
        mulh x25, x4, x16          // ...................................................................................................................................................................*........................
        addi x7, x7, 256           // ....................................................................................................................................................................*.......................
        mulh x6, x7, x16           // .....................................................................................................................................................................*......................
        srai x7, x30, 32           // .....................................................................................................................................................................*......................
        addi x7, x7, 256           // ......................................................................................................................................................................*.....................
        mulh x7, x7, x16           // .......................................................................................................................................................................*....................
        sub x13, x12, x25          // .......................................................................................................................................................................*....................
        add x12, x12, x25          // ........................................................................................................................................................................*...................
        sub x25, x24, x6           // .........................................................................................................................................................................*..................
        add x24, x24, x6           // ..........................................................................................................................................................................*.................
        sub x27, x26, x7           // ...........................................................................................................................................................................*................
        add x26, x26, x7           // ...........................................................................................................................................................................*................
        mul x7, x15, x17           // ............................................................................................................................................................................*...............
        sw x8, 1*4*0(x10)          // ............................................................................................................................................................................*...............
        sw x9, 1*4*1(x10)          // .............................................................................................................................................................................*..............
        addi x11, x11, 15*8        // ..............................................................................................................................................................................*.............
        sw x18, 1*4*2(x10)         // ..............................................................................................................................................................................*.............
        sw x19, 1*4*3(x10)         // ...............................................................................................................................................................................*............
        sw x20, 1*4*4(x10)         // ................................................................................................................................................................................*...........
        srai x7, x7, 32            // ................................................................................................................................................................................*...........
        sw x21, 1*4*5(x10)         // .................................................................................................................................................................................*..........
        addi x7, x7, 256           // .................................................................................................................................................................................*..........
        sw x22, 1*4*6(x10)         // ..................................................................................................................................................................................*.........
        mulh x22, x7, x16          // ..................................................................................................................................................................................*.........
        sw x23, 1*4*7(x10)         // ...................................................................................................................................................................................*........
        sw x24, 1*4*8(x10)         // ....................................................................................................................................................................................*.......
        sw x25, 1*4*9(x10)         // .....................................................................................................................................................................................*......
        sw x26, 1*4*10(x10)        // ......................................................................................................................................................................................*.....
        sub x7, x14, x22           // ......................................................................................................................................................................................*.....
        add x22, x14, x22          // .......................................................................................................................................................................................*....
        sw x27, 1*4*11(x10)        // .......................................................................................................................................................................................*....
        sw x12, 1*4*12(x10)        // ........................................................................................................................................................................................*...
        sw x13, 1*4*13(x10)        // .........................................................................................................................................................................................*..
        sw x22, 1*4*14(x10)        // ..........................................................................................................................................................................................*.
        sw x7, 1*4*15(x10)         // ...........................................................................................................................................................................................*
        addi x10, x10, 16*4        // ...........................................................................................................................................................................................*

                                     // ------------------------------------------------------------------------------------ cycle (expected) ------------------------------------------------------------------------------------->
                                     // 0                        25                       50                       75                       100                      125                      150                      175
                                     // |------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------
        // lw x8,  1*4*0(x10)        // *...........................................................................................................................................................................................
        // lw x9,  1*4*1(x10)        // .*..........................................................................................................................................................................................
        // lw x18,  1*4*2(x10)       // ..*.........................................................................................................................................................................................
        // lw x19,  1*4*3(x10)       // ...*........................................................................................................................................................................................
        // lw x20,  1*4*4(x10)       // ....*.......................................................................................................................................................................................
        // lw x21,  1*4*5(x10)       // .....*......................................................................................................................................................................................
        // lw x22,  1*4*6(x10)       // ......*.....................................................................................................................................................................................
        // lw x23,  1*4*7(x10)       // .......*....................................................................................................................................................................................
        // lw x24,  1*4*8(x10)       // ........*...................................................................................................................................................................................
        // lw x25,  1*4*9(x10)       // .........*..................................................................................................................................................................................
        // lw x26, 1*4*10(x10)       // ..........*.................................................................................................................................................................................
        // lw x27, 1*4*11(x10)       // ...........*................................................................................................................................................................................
        // lw x12,  1*4*12(x10)      // ............*...............................................................................................................................................................................
        // lw x13,  1*4*13(x10)      // .............*..............................................................................................................................................................................
        // lw x14,  1*4*14(x10)      // ..............*.............................................................................................................................................................................
        // lw x15,  1*4*15(x10)      // ...............*............................................................................................................................................................................
        // ld x5, 0*8(x11)           // ................*...........................................................................................................................................................................
        // ld x6, 1*8(x11)           // .................*..........................................................................................................................................................................
        // ld x7, 2*8(x11)           // ..................*.........................................................................................................................................................................
        // ld x28, 3*8(x11)          // ...................*........................................................................................................................................................................
        // ld x29, 4*8(x11)          // ....................*.......................................................................................................................................................................
        // ld x30, 5*8(x11)          // .....................*......................................................................................................................................................................
        // ld x31, 6*8(x11)          // ......................*.....................................................................................................................................................................
        // ld x4, 7*8(x11)           // .......................*....................................................................................................................................................................
        // ld x1, 8*8(x11)           // ........................*...................................................................................................................................................................
        // mul  x17, x24, x5         // .......................*....................................................................................................................................................................
        // srai x17, x17, 32         // ...........................*................................................................................................................................................................
        // addi x17, x17, 256        // ............................*...............................................................................................................................................................
        // mulh x17, x17, x16        // ...............................*............................................................................................................................................................
        // sub x24, x8, x17          // ...................................*........................................................................................................................................................
        // add x8, x8, x17           // ....................................*.......................................................................................................................................................
        // mul  x17, x25, x5         // .........................*..................................................................................................................................................................
        // srai x17, x17, 32         // .............................*..............................................................................................................................................................
        // addi x17, x17, 256        // ..............................*.............................................................................................................................................................
        // mulh x17, x17, x16        // .................................*..........................................................................................................................................................
        // sub x25, x9, x17          // .....................................*......................................................................................................................................................
        // add x9, x9, x17           // ......................................*.....................................................................................................................................................
        // mul  x17, x26, x5         // ...........................*................................................................................................................................................................
        // srai x17, x17, 32         // ...............................*............................................................................................................................................................
        // addi x17, x17, 256        // ................................*...........................................................................................................................................................
        // mulh x17, x17, x16        // ...................................*........................................................................................................................................................
        // sub x26, x18, x17         // .......................................*....................................................................................................................................................
        // add x18, x18, x17         // ........................................*...................................................................................................................................................
        // mul  x17, x27, x5         // .............................*..............................................................................................................................................................
        // srai x17, x17, 32         // .................................*..........................................................................................................................................................
        // addi x17, x17, 256        // ..................................*.........................................................................................................................................................
        // mulh x17, x17, x16        // .....................................*......................................................................................................................................................
        // sub x27, x19, x17         // .........................................*..................................................................................................................................................
        // add x19, x19, x17         // ..........................................*.................................................................................................................................................
        // mul  x17, x12, x5         // ............................................*...............................................................................................................................................
        // srai x17, x17, 32         // ................................................*...........................................................................................................................................
        // addi x17, x17, 256        // ...................................................*........................................................................................................................................
        // mulh x17, x17, x16        // ....................................................*.......................................................................................................................................
        // sub x12, x20, x17         // ........................................................*...................................................................................................................................
        // add x20, x20, x17         // .........................................................*..................................................................................................................................
        // mul  x17, x13, x5         // ..........................................*.................................................................................................................................................
        // srai x17, x17, 32         // ..............................................*.............................................................................................................................................
        // addi x17, x17, 256        // ...............................................*............................................................................................................................................
        // mulh x17, x17, x16        // ................................................*...........................................................................................................................................
        // sub x13, x21, x17         // ....................................................*.......................................................................................................................................
        // add x21, x21, x17         // .....................................................*......................................................................................................................................
        // mul  x17, x14, x5         // ..................................................*.........................................................................................................................................
        // srai x17, x17, 32         // ......................................................*.....................................................................................................................................
        // addi x17, x17, 256        // .......................................................*....................................................................................................................................
        // mulh x17, x17, x16        // ........................................................*...................................................................................................................................
        // sub x14, x22, x17         // ............................................................*...............................................................................................................................
        // add x22, x22, x17         // ............................................................*...............................................................................................................................
        // mul  x17, x15, x5         // ..............................................*.............................................................................................................................................
        // srai x17, x17, 32         // ..................................................*.........................................................................................................................................
        // addi x17, x17, 256        // ...................................................*........................................................................................................................................
        // mulh x17, x17, x16        // ......................................................*.....................................................................................................................................
        // sub x15, x23, x17         // ..........................................................*.................................................................................................................................
        // add x23, x23, x17         // .............................................................*..............................................................................................................................
        // mul  x17, x20, x6         // .............................................................*..............................................................................................................................
        // srai x17, x17, 32         // .................................................................*..........................................................................................................................
        // addi x17, x17, 256        // ..................................................................*.........................................................................................................................
        // mulh x17, x17, x16        // .......................................................................*....................................................................................................................
        // sub x20, x8, x17          // ...........................................................................*................................................................................................................
        // add x8, x8, x17           // ............................................................................*...............................................................................................................
        // mul  x17, x21, x6         // ...............................................................*............................................................................................................................
        // srai x17, x17, 32         // ...................................................................*........................................................................................................................
        // addi x17, x17, 256        // ....................................................................*.......................................................................................................................
        // mulh x17, x17, x16        // .....................................................................*......................................................................................................................
        // sub x21, x9, x17          // .........................................................................*..................................................................................................................
        // add x9, x9, x17           // ..........................................................................*.................................................................................................................
        // mul  x17, x22, x6         // .................................................................*..........................................................................................................................
        // srai x17, x17, 32         // .....................................................................*......................................................................................................................
        // addi x17, x17, 256        // ......................................................................*.....................................................................................................................
        // mulh x17, x17, x16        // .........................................................................*..................................................................................................................
        // sub x22, x18, x17         // .............................................................................*..............................................................................................................
        // add x18, x18, x17         // ..............................................................................*.............................................................................................................
        // mul  x17, x23, x6         // ...................................................................*........................................................................................................................
        // srai x17, x17, 32         // .......................................................................*....................................................................................................................
        // addi x17, x17, 256        // ........................................................................*...................................................................................................................
        // mulh x17, x17, x16        // ...........................................................................*................................................................................................................
        // sub x23, x19, x17         // ...............................................................................*............................................................................................................
        // add x19, x19, x17         // ................................................................................*...........................................................................................................
        // mul  x17, x12, x7         // .....................................................................................*......................................................................................................
        // srai x17, x17, 32         // .........................................................................................*..................................................................................................
        // addi x17, x17, 256        // ..........................................................................................*.................................................................................................
        // mulh x17, x17, x16        // ...........................................................................................*................................................................................................
        // sub x12, x24, x17         // ...............................................................................................*............................................................................................
        // add x24, x24, x17         // ................................................................................................*...........................................................................................
        // mul  x17, x13, x7         // .................................................................................*..........................................................................................................
        // srai x17, x17, 32         // .....................................................................................*......................................................................................................
        // addi x17, x17, 256        // ......................................................................................*.....................................................................................................
        // mulh x17, x17, x16        // .......................................................................................*....................................................................................................
        // sub x13, x25, x17         // .............................................................................................*..............................................................................................
        // add x25, x25, x17         // ..............................................................................................*.............................................................................................
        // mul  x17, x14, x7         // ...............................................................................*............................................................................................................
        // srai x17, x17, 32         // ...........................................................................................*................................................................................................
        // addi x17, x17, 256        // ............................................................................................*...............................................................................................
        // mulh x17, x17, x16        // .............................................................................................*..............................................................................................
        // sub x14, x26, x17         // .................................................................................................*..........................................................................................
        // add x26, x26, x17         // .................................................................................................*..........................................................................................
        // mul  x17, x15, x7         // ...................................................................................*........................................................................................................
        // srai x17, x17, 32         // .......................................................................................*....................................................................................................
        // addi x17, x17, 256        // ........................................................................................*...................................................................................................
        // mulh x17, x17, x16        // .........................................................................................*..................................................................................................
        // sub x15, x27, x17         // ................................................................................................*...........................................................................................
        // add x27, x27, x17         // ..................................................................................................*.........................................................................................
        // mul  x17, x18, x28        // ....................................................................................................*.......................................................................................
        // srai x17, x17, 32         // ........................................................................................................*...................................................................................
        // addi x17, x17, 256        // .........................................................................................................*..................................................................................
        // mulh x17, x17, x16        // ..............................................................................................................*.............................................................................
        // sub x18, x8, x17          // ..................................................................................................................*.........................................................................
        // add x8, x8, x17           // ..................................................................................................................*.........................................................................
        // mul  x17, x19, x28        // ..................................................................................................*.........................................................................................
        // srai x17, x17, 32         // ......................................................................................................*.....................................................................................
        // addi x17, x17, 256        // .......................................................................................................*....................................................................................
        // mulh x17, x17, x16        // ........................................................................................................*...................................................................................
        // sub x19, x9, x17          // ............................................................................................................*...............................................................................
        // add x9, x9, x17           // ...................................................................................................................*........................................................................
        // mul  x17, x22, x29        // ......................................................................................................*.....................................................................................
        // srai x17, x17, 32         // ..........................................................................................................*.................................................................................
        // addi x17, x17, 256        // ...........................................................................................................*................................................................................
        // mulh x17, x17, x16        // ............................................................................................................*...............................................................................
        // sub x22, x20, x17         // ................................................................................................................*...........................................................................
        // add x20, x20, x17         // .................................................................................................................*..........................................................................
        // mul  x17, x23, x29        // ..........................................................................................................*.................................................................................
        // srai x17, x17, 32         // ..............................................................................................................*.............................................................................
        // addi x17, x17, 256        // ...............................................................................................................*............................................................................
        // mulh x17, x17, x16        // ................................................................................................................*...........................................................................
        // sub x23, x21, x17         // ....................................................................................................................*.......................................................................
        // add x21, x21, x17         // .....................................................................................................................*......................................................................
        // mul  x17, x26, x30        // .........................................................................................................................*..................................................................
        // srai x17, x17, 32         // .............................................................................................................................*..............................................................
        // addi x17, x17, 256        // ..............................................................................................................................*.............................................................
        // mulh x17, x17, x16        // ...............................................................................................................................*............................................................
        // sub x26, x24, x17         // ...................................................................................................................................*........................................................
        // add x24, x24, x17         // ....................................................................................................................................*.......................................................
        // mul  x17, x27, x30        // .............................................................................................................................*..............................................................
        // srai x17, x17, 32         // .................................................................................................................................*..........................................................
        // addi x17, x17, 256        // ..................................................................................................................................*.........................................................
        // mulh x17, x17, x16        // ...................................................................................................................................*........................................................
        // sub x27, x25, x17         // .......................................................................................................................................*....................................................
        // add x25, x25, x17         // .......................................................................................................................................*....................................................
        // mul  x17, x14, x31        // .....................................................................................................................*......................................................................
        // srai x17, x17, 32         // .........................................................................................................................*..................................................................
        // addi x17, x17, 256        // ..........................................................................................................................*.................................................................
        // mulh x17, x17, x16        // ...........................................................................................................................*................................................................
        // sub x14, x12, x17         // ...............................................................................................................................*............................................................
        // add x12, x12, x17         // ................................................................................................................................*...........................................................
        // mul  x17, x15, x31        // .......................................................................................................................*....................................................................
        // srai x17, x17, 32         // ...........................................................................................................................*................................................................
        // addi x17, x17, 256        // ............................................................................................................................*...............................................................
        // mulh x17, x17, x16        // .................................................................................................................................*..........................................................
        // sub x15, x13, x17         // .....................................................................................................................................*......................................................
        // add x13, x13, x17         // .....................................................................................................................................*......................................................
        // mul  x17, x9, x4          // ........................................................................................................................................*...................................................
        // srai x17, x17, 32         // ............................................................................................................................................*...............................................
        // addi x17, x17, 256        // .............................................................................................................................................*..............................................
        // mulh x17, x17, x16        // ..................................................................................................................................................*.........................................
        // sub x9, x8, x17           // ......................................................................................................................................................*.....................................
        // add x8, x8, x17           // .......................................................................................................................................................*....................................
        // mul  x17, x19, x1         // ..........................................................................................................................................*.................................................
        // srai x17, x17, 32         // ..............................................................................................................................................*.............................................
        // addi x17, x17, 256        // ...............................................................................................................................................*............................................
        // mulh x17, x17, x16        // ................................................................................................................................................*...........................................
        // sub x19, x18, x17         // ....................................................................................................................................................*.......................................
        // add x18, x18, x17         // .....................................................................................................................................................*......................................
        // ld x17, 9*8(x11)          // ........................................................................................................................................*...................................................
        // mul  x17, x21, x17        // ............................................................................................................................................*...............................................
        // srai x17, x17, 32         // ................................................................................................................................................*...........................................
        // addi x17, x17, 256        // .................................................................................................................................................*..........................................
        // mulh x17, x17, x16        // ....................................................................................................................................................*.......................................
        // sub x21, x20, x17         // ........................................................................................................................................................*...................................
        // add x20, x20, x17         // ........................................................................................................................................................*...................................
        // ld x17, 10*8(x11)         // .........................................................................................................................................*..................................................
        // mul  x17, x23, x17        // ..............................................................................................................................................*.............................................
        // srai x17, x17, 32         // ..................................................................................................................................................*.........................................
        // addi x17, x17, 256        // ...................................................................................................................................................*........................................
        // mulh x17, x17, x16        // .......................................................................................................................................................*....................................
        // sub x23, x22, x17         // ...........................................................................................................................................................*................................
        // add x22, x22, x17         // ............................................................................................................................................................*...............................
        // ld x17, 11*8(x11)         // ............................................................................................................................................................*...............................
        // mul  x17, x25, x17        // ...............................................................................................................................................................*............................
        // srai x17, x17, 32         // ...................................................................................................................................................................*........................
        // addi x17, x17, 256        // ....................................................................................................................................................................*.......................
        // mulh x17, x17, x16        // .....................................................................................................................................................................*......................
        // sub x25, x24, x17         // .........................................................................................................................................................................*..................
        // add x24, x24, x17         // ..........................................................................................................................................................................*.................
        // ld x17, 12*8(x11)         // .............................................................................................................................................................*..............................
        // mul  x17, x27, x17        // .................................................................................................................................................................*..........................
        // srai x17, x17, 32         // .....................................................................................................................................................................*......................
        // addi x17, x17, 256        // ......................................................................................................................................................................*.....................
        // mulh x17, x17, x16        // .......................................................................................................................................................................*....................
        // sub x27, x26, x17         // ...........................................................................................................................................................................*................
        // add x26, x26, x17         // ...........................................................................................................................................................................*................
        // ld x17, 13*8(x11)         // .........................................................................................................................................................*..................................
        // mul  x17, x13, x17        // .............................................................................................................................................................*..............................
        // srai x17, x17, 32         // .................................................................................................................................................................*..........................
        // addi x17, x17, 256        // ..................................................................................................................................................................*.........................
        // mulh x17, x17, x16        // ...................................................................................................................................................................*........................
        // sub x13, x12, x17         // .......................................................................................................................................................................*....................
        // add x12, x12, x17         // ........................................................................................................................................................................*...................
        // ld x17, 14*8(x11)         // ..............................................................................................................................................................*.............................
        // mul  x17, x15, x17        // ............................................................................................................................................................................*...............
        // srai x17, x17, 32         // ................................................................................................................................................................................*...........
        // addi x17, x17, 256        // .................................................................................................................................................................................*..........
        // mulh x17, x17, x16        // ..................................................................................................................................................................................*.........
        // sub x15, x14, x17         // ......................................................................................................................................................................................*.....
        // add x14, x14, x17         // .......................................................................................................................................................................................*....
        // sw x8,  1*4*0(x10)        // ............................................................................................................................................................................*...............
        // sw x9,  1*4*1(x10)        // .............................................................................................................................................................................*..............
        // sw x18,  1*4*2(x10)       // ..............................................................................................................................................................................*.............
        // sw x19,  1*4*3(x10)       // ...............................................................................................................................................................................*............
        // sw x20,  1*4*4(x10)       // ................................................................................................................................................................................*...........
        // sw x21,  1*4*5(x10)       // .................................................................................................................................................................................*..........
        // sw x22,  1*4*6(x10)       // ..................................................................................................................................................................................*.........
        // sw x23,  1*4*7(x10)       // ...................................................................................................................................................................................*........
        // sw x24,  1*4*8(x10)       // ....................................................................................................................................................................................*.......
        // sw x25,  1*4*9(x10)       // .....................................................................................................................................................................................*......
        // sw x26, 1*4*10(x10)       // ......................................................................................................................................................................................*.....
        // sw x27, 1*4*11(x10)       // .......................................................................................................................................................................................*....
        // sw x12,  1*4*12(x10)      // ........................................................................................................................................................................................*...
        // sw x13,  1*4*13(x10)      // .........................................................................................................................................................................................*..
        // sw x14,  1*4*14(x10)      // ..........................................................................................................................................................................................*.
        // sw x15,  1*4*15(x10)      // ...........................................................................................................................................................................................*
        // addi x10, x10, 16*4       // ...........................................................................................................................................................................................*
        // addi x11, x11, 15*8       // ..............................................................................................................................................................................*.............

        end_loop_2:

  addi gp, gp, -1
  bne gp, zero, ntt_8l_rv64im_loop2
  restore_regs
  addi sp, sp, 8*15
  ret


